<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" href="http://apps.bdimg.com/libs/jqueryui/1.10.4/css/jquery-ui.min.css">
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/jquery/jquery-1.10.2.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/bootstrap3/js/bootstrap.js"
            type="text/javascript"></script>
    <script src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>


    <style type="text/css">
      .ui-com {
        font-size: 14px;
        max-height: 100px;
        max-width: 172px;
        overflow-y: auto;
        /* 防止水平滚动条 */
        overflow-x: hidden;
      }
    </style>

    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/jquery/jquery-1.10.2.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/bootstrap3/js/bootstrap.js"
            type="text/javascript"></script>
    <script src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>

        <script>
        $(document).ready(function () {
            (function () {
                var insertOptions = function (data, id) {
                    $('#teacher_name').autocomplete({
                        minLength: 0,
                        source: data,
                        focus: function ( event, ui) {
                            $( "#teacher_name" ).val( ui.item.label );
                            return false;
                        },
                        select: function ( event, ui) {
                            $( "#teacher_name" ).val( ui.item.label );
                            $( "#teacher_id" ).val( ui.item.value );
                            return false;
                        }
                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                        return $("<li>")
                            .append("<a>" + item.label + "<br>" + item.desc + "</a>")
                            .appendTo(ul);
                    };
                };
                $('#teacher_name').keyup(function () {
                    var right_id = "#teacher_name";
                    var url = "/users/balabala/";
                    var skeyword = $("#teacher_name").val();
                    $.ajax({
                        url: url,
                        dataType: 'json',
                        async: false,
                        data: {"skeyword": skeyword, "csrfmiddlewaretoken": '{{ csrf_token }}'},
                        success: function (data) {
                            //alert(data.toString());
                            insertOptions(data, right_id)
                        },
                        error: function (XmlHttprequest, textStatus, errorThrown) {
                            alert("asbdlasldb")
                        }
                    });
                });
            })();
        });
    </script>
</head>
<body>

<input id="teacher_name" type="text" class="form-control ui-com">
                                    <input id="teacher_id" name="pntid" type="hidden">

</body>
</html>