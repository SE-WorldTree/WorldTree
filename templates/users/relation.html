<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>关系图</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'/>
    <meta name="viewport" content="width=device-width"/>
    <link rel="apple-touch-icon" sizes="76x76"
          href="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/img/apple-icon.png">
	<link rel="icon" type="image/png"
          href="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/img/favicon.png">

    <link rel="stylesheet" href="http://apps.bdimg.com/libs/jqueryui/1.10.4/css/jquery-ui.min.css">

    <link href="https://rawcdn.githack.com/holynova-SD/CSSTest/master/bootstrap3/css/bootstrap.css"
          rel="stylesheet"/>
    <link href="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/css/gsdk.css" rel="stylesheet"/>
    <link href="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/css/demo2.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link href="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/css/material-kit.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
    <style type="text/css">
      .ui-com {
        font-size: 14px;
        max-height: 100px;
        max-width: 172px;
        overflow-y: auto;
        /* 防止水平滚动条 */
        overflow-x: hidden;
      }
    </style>
    <style>
      .ui-autocomplete {
        z-index: 111111;
      }
    </style>

    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/jquery/jquery-1.10.2.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/bootstrap3/js/bootstrap.js"
            type="text/javascript"></script>
    <script src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>

        <script>
        $(document).ready(function () {
            (function () {
                var insertOptions = function (data, id) {
                    $('#teacher_name').autocomplete({
                        minLength: 0,
                        source: data,
                        focus: function ( event, ui) {
                            $( "#teacher_name" ).val( ui.item.label );
                            return false;
                        },
                        select: function ( event, ui) {
                            $( "#teacher_name" ).val( ui.item.label );
                            $( "#teacher_id" ).val( ui.item.value );
                            return false;
                        }
                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                        return $("<li>")
                            .append("<a>" + item.label + "<br>" + item.desc + "</a>")
                            .appendTo(ul);
                    };
                };
                $('#teacher_name').keyup(function () {
                    var right_id = "#teacher_name";
                    var url = "/users/balabala/";
                    var skeyword = $("#teacher_name").val();
                    $.ajax({
                        url: url,
                        dataType: 'json',
                        async: false,
                        data: {"skeyword": skeyword, "csrfmiddlewaretoken": '{{ csrf_token }}'},
                        success: function (data) {
                            //alert(data.toString());
                            insertOptions(data, right_id)
                        },
                        error: function (XmlHttprequest, textStatus, errorThrown) {
                            alert("asbdlasldb")
                        }
                    });
                });
            })();
        });
    </script>


    <script>
        $(document).ready(function () {
            (function () {
                var insertOptions = function (data, id) {
                    $('#name').autocomplete({
                        minLength: 0,
                        source: data,
                        focus: function ( event, ui) {
                            $( "#name" ).val( ui.item.label );
                            return false;
                        },
                        select: function ( event, ui) {
                            $( "#name" ).val( ui.item.label );
                            $( "#person-id" ).val( ui.item.value );
                            return false;
                        }
                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                        return $("<li>")
                            .append("<a>" + item.label + "<br>" + item.desc + "</a>")
                            .appendTo(ul);
                    };
                };
                $('#name').keyup(function () {
                    var right_id = "#name";
                    var url = "/users/balabala/";
                    var skeyword = $("#name").val();
                    $.ajax({
                        url: url,
                        dataType: 'json',
                        async: false,
                        data: {"skeyword": skeyword, "csrfmiddlewaretoken": '{{ csrf_token }}'},
                        success: function (data) {
                            //alert(data.toString());
                            insertOptions(data, right_id)
                        },
                        error: function (XmlHttprequest, textStatus, errorThrown) {
                            alert("asbdlasldb")
                        }
                    });
                });
            })();
        });
    </script>


    <script>
        $(document).ready(function () {
            (function () {
                var insertOptions = function (data, id) {
                    $('#student-name').autocomplete({
                        minLength: 0,
                        source: data,
                        focus: function ( event, ui) {
                            $( "#student-name" ).val( ui.item.label );
                            return false;
                        },
                        select: function ( event, ui) {
                            $( "#student-name" ).val( ui.item.label );
                            $( "#student-id" ).val( ui.item.value );
                            return false;
                        }
                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                        return $("<li>")
                            .append("<a>" + item.label + "<br>" + item.desc + "</a>")
                            .appendTo(ul);
                    };
                }
                $('#student-name').keyup(function () {
                    var right_id = "#name";
                    var url = "/users/balabala/";
                    var skeyword = $("#student-name").val();
                    $.ajax({
                        url: url,
                        dataType: 'json',
                        async: false,
                        data: {"skeyword": skeyword, "csrfmiddlewaretoken": '{{ csrf_token }}'},
                        success: function (data) {
                            //alert(data.toString());
                            insertOptions(data, right_id)
                        },
                        error: function (XmlHttprequest, textStatus, errorThrown) {
                            alert("asbdlasldb")
                        }
                    });
                });
            })();
        });
    </script>

    <script>
        $(document).ready(function () {
            (function () {
                var insertOptions = function (data, id) {
                    $('#del-name').autocomplete({
                        minLength: 0,
                        source: data,
                        focus: function ( event, ui) {
                            $( "#del-name" ).val( ui.item.label );
                            return false;
                        },
                        select: function ( event, ui) {
                            $( "#del-name" ).val( ui.item.label );
                            $( "#del-id" ).val( ui.item.value );
                            return false;
                        }
                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                        return $("<li>")
                            .append("<a>" + item.label + "<br>" + item.desc + "</a>")
                            .appendTo(ul);
                    };
                }
                $('#del-name').keyup(function () {
                    var right_id = "#name";
                    var url = "/users/balabala/";
                    var skeyword = $("#del-name").val();
                    $.ajax({
                        url: url,
                        dataType: 'json',
                        async: false,
                        data: {"skeyword": skeyword, "csrfmiddlewaretoken": '{{ csrf_token }}'},
                        success: function (data) {
                            //alert(data.toString());
                            insertOptions(data, right_id)
                        },
                        error: function (XmlHttprequest, textStatus, errorThrown) {
                            alert("asbdlasldb")
                        }
                    });
                });
            })();
        });
    </script>

    <script>
        $(document).ready(function () {
            (function () {
                var insertOptions = function (data, id) {
                    $('#del-teacher-name').autocomplete({
                        minLength: 0,
                        source: data,
                        focus: function ( event, ui) {
                            $( "#del-teacher-name" ).val( ui.item.label );
                            return false;
                        },
                        select: function ( event, ui) {
                            $( "#del-teacher-name" ).val( ui.item.label );
                            $( "#del-teacher-id" ).val( ui.item.value );
                            return false;
                        }
                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                        return $("<li>")
                            .append("<a>" + item.label + "<br>" + item.desc + "</a>")
                            .appendTo(ul);
                    };
                }
                $('#del-teacher-name').keyup(function () {
                    var right_id = "#name";
                    var url = "/users/balabala/";
                    var skeyword = $("#del-teacher-name").val();
                    $.ajax({
                        url: url,
                        dataType: 'json',
                        async: false,
                        data: {"skeyword": skeyword, "csrfmiddlewaretoken": '{{ csrf_token }}'},
                        success: function (data) {
                            //alert(data.toString());
                            insertOptions(data, right_id)
                        },
                        error: function (XmlHttprequest, textStatus, errorThrown) {
                            alert("asbdlasldb")
                        }
                    });
                });
            })();
        });
    </script>

    <script>
        $(document).ready(function () {
            (function () {
                var insertOptions = function (data, id) {
                    $('#del-student-name').autocomplete({
                        minLength: 0,
                        source: data,
                        focus: function ( event, ui) {
                            $( "#del-student-name" ).val( ui.item.label );
                            return false;
                        },
                        select: function ( event, ui) {
                            $( "#del-student-name" ).val( ui.item.label );
                            $( "#del-student-id" ).val( ui.item.value );
                            return false;
                        }
                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                        return $("<li>")
                            .append("<a>" + item.label + "<br>" + item.desc + "</a>")
                            .appendTo(ul);
                    };
                }
                $('#del-student-name').keyup(function () {
                    var right_id = "#name";
                    var url = "/users/balabala/";
                    var skeyword = $("#del-student-name").val();
                    $.ajax({
                        url: url,
                        dataType: 'json',
                        async: false,
                        data: {"skeyword": skeyword, "csrfmiddlewaretoken": '{{ csrf_token }}'},
                        success: function (data) {
                            //alert(data.toString());
                            insertOptions(data, right_id)
                        },
                        error: function (XmlHttprequest, textStatus, errorThrown) {
                            alert("asbdlasldb")
                        }
                    });
                });
            })();
        });
    </script>

</head>
<body class="profile-page">
<nav class="navbar navbar-ct-blue navbar-transparent navbar-fixed-top" role="navigation">

    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{% url 'index' %}">世界树</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="active"><a href="{% url 'index' %}">主页</a></li>
                <li class="active"><a href="">关于</a></li>
                <li>
                    <a href="javascript:void(0);" data-toggle="search" class="hidden-xs"><i
                            class="fa fa-search"></i></a>
                </li>
            </ul>
            <form class="navbar-form navbar-left navbar-search-form" role="search" action="{% url 'graph:tree' %}" style="margin: 14px;">
                <div class="form-group" style="display: inline-block;">
                    <input id="name" name="author" type="text" value="" class="form-control ui-com" placeholder="输入作者">
                    <input id="person-id" name="id" type="hidden">
                </div>
                <div class="form-group" style="display: inline-block;">
                    <input type="submit" class="btn btn-round btn-default" value="搜索"
                           style="margin: 0 auto; display: block;">
                </div>
            </form>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#gsdk" class="dropdown-toggle" data-toggle="dropdown">
                            <div class="logo-container">
                                <div class="logo">
                                    <img src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/img/new_logo.png">
                                </div>
                                <div class="brand">
                                    {{ user.username }}
                                </div>
                            </div>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'users:profile' %}?id={{ user.id }}">个人信息</a></li>
                            <li><a href="{% url 'users:relation' %}">所有操作</a></li>
                            <li><a href="{% url 'users:message' %}">站内信</a></li>
                            <li><a href="{% url 'logout' %}">注销登录</a></li>
                        </ul>
                    </li>
                </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>


<div class="wrapper">
    <div class="header header-filter" style="background-image: url(
    'https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/img/bg2.jpeg');">
	</div>

    <div class="main main-raised">
        <div class="section section-basic">
            <div class="container">
                <div class="row sharing-area text-center">
                    <div class="col-md-8 col-md-offset-2">
                        <button class="btn" data-toggle="modal" data-target="#adde">添加点</button>
                        <button class="btn btn-primary" data-toggle="modal" data-target="#addv">添加边</button>
                        <button class="btn btn-info" data-toggle="modal" data-target="#dele">删除点</button>
                        <button class="btn btn-success" data-toggle="modal" data-target="#delv">删除边</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="section">
            <div class="container tim-container">
                <div class="title">
                    <h2></h2>
                </div>
                <div id="showmessage">

                </div>
            </div>
        </div>
    </div>

    <!-- Sart Modal -->
    <div class="modal fade" id="adde" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="material-icons">clear</i>
                    </button>
                    <h4 class="modal-title">添加点</h4>
                </div>
                <div class="modal-body">
                    <div class="card card-signup">
                        <form class="form" method="" action="">
                            {% csrf_token %}
                            <div class="content">
                                <div class="form-group label-floating">
                                    <label class="control-label">姓名</label>
                                    <input id="username" name="name" class="form-control" required>
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">邮箱</label>
                                    <input id="useremail" name="email" type="email" class="form-control">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">昵称</label>
                                    <input id="usernickname" name="nickname" class="form-control">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">博客</label>
                                    <input id="userblog" name="blog" class="form-control">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">领英</label>
                                    <input id="userlinkedin" name="linkedin" class="form-control">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">谷歌学术</label>
                                    <input id="userggsc" name="ggsc" class="form-control">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">单位</label>
                                    <input id="userins" name="institute" class="form-control">
                                </div>
                            </div>
                            <div class="footer text-center">
                                <button id="adde-button" class="btn btn-simple btn-primary btn-lg"
                                        data-dismiss="modal">确认</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  End Modal -->

    <!-- Sart Modal -->
    <div class="modal fade" id="addv" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="material-icons">clear</i>
                    </button>
                    <h4 class="modal-title">添加边</h4>
                </div>
                <div class="modal-body">
                    <div class="card card-signup">
                        <form class="form" method="" action="">
                            {% csrf_token %}
                            <div class="content">
                                <div class="form-group label-floating">
                                    <label class="control-label">导师</label>
                                    <input id="teacher_name" type="text" class="form-control">
                                    <input id="teacher_id" name="pntid" type="hidden">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">学生</label>
                                    <input id="student-name" class="form-control">
                                    <input id="student-id" name="chdid" type="hidden">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">开始年份</label>
                                    <input id="startyear" name="beginDate" class="form-control">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">结束年份</label>
                                    <input id="endyear" name="endDate" class="form-control">
                                </div>
                            </div>
                            <div class="footer text-center">
                                <button id="addv-button" class="btn btn-simple btn-primary btn-lg"
                                        data-dismiss="modal">确认</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  End Modal -->

    <!-- Sart Modal -->
    <div class="modal fade" id="dele" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="material-icons">clear</i>
                    </button>
                    <h4 class="modal-title">删除点</h4>
                </div>
                <div class="modal-body">
                    <div class="card card-signup">
                        <form class="form" method="" action="">
                            {% csrf_token %}
                            <div class="content">
                                <div class="form-group label-floating">
                                    <label class="control-label">姓名</label>
                                    <input id="del-name" class="form-control">
                                    <input id="del-id" name="delid" type="hidden">
                                </div>
                            </div>
                            <div class="footer text-center">
                                <button id="dele-button" class="btn btn-simple btn-primary btn-lg"
                                        data-dismiss="modal">确认</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  End Modal -->

    <!-- Sart Modal -->
    <div class="modal fade" id="delv" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="material-icons">clear</i>
                    </button>
                    <h4 class="modal-title">删除边</h4>
                </div>
                <div class="modal-body">
                    <div class="card card-signup">
                        <form class="form" method="" action="">
                            {% csrf_token %}
                            <div class="content">
                                <div class="form-group label-floating">
                                    <label class="control-label">老师姓名</label>
                                    <input id="del-teacher-name" class="form-control">
                                    <input id="del-teacher-id" name="pntid" type="hidden">
                                </div>
                                <div class="form-group label-floating">
                                    <label class="control-label">学生姓名</label>
                                    <input id="del-student-name" class="form-control">
                                    <input id="del-student-id" name="chdid" type="hidden">
                                </div>
                            </div>
                            <div id="delv-button" class="footer text-center">
                                <button class="btn btn-simple btn-primary btn-lg"
                                        data-dismiss="modal">确认</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  End Modal -->
    <footer class="footer">
        <div class="container">
            <div class="copyright pull-right">
                &copy; 2017, made with <i class="fa fa-heart heart"></i> by Holynova
            </div>
        </div>
    </footer>
</div>
</body>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/material.min.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/gsdk-checkbox.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/gsdk-radio.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/gsdk-bootstrapswitch.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/get-shit-done.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/custom.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/nouislider.min.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/bootstrap-datepicker.js"
            type="text/javascript"></script>
    <script src="https://rawcdn.githack.com/holynova-SD/CSSTest/master/assets/js/material-kit.js"
            type="text/javascript"></script>

    <script>
        $('#adde-button').click(function(){
            $.ajax({
                type: 'POST',
                url: '{% url 'graph:addNode' %}',
                data: {
                    user_name:$('#username').val(),
                    user_email:$('#useremail').val(),
                    user_nickname:$('#usernickname').val(),
                    user_blog:$('#userblog').val(),
                    user_linked:$('#userlinkedin').val(),
                    user_ggsc:$('#userggsc').val(),
                    user_ins:$('#userins').val(),
                    "csrfmiddlewaretoken": '{{ csrf_token }}'
                },
                datatype: 'json',
                async: false,
                success:function(data){
                    json_data = JSON.parse(data);
                    $('#showmessage').html('');
                    if(json_data['ac'] > 0){
                        var message = '<div class="section section-notifications" id="notifications">' +
                            '<div class="alert alert-success"><div class="container-fluid">' +
                                '<div class="alert-icon"><i class="material-icons">check</i></div>' +
                                '<button type="button" class="close" data-dismiss="alert" aria-label="Close">' +
                                '<span aria-hidden="true"><i class="material-icons">clear</i></span>' +
                                '</button><b>Success Alert:</b> 呦呼！加点成功！~' +
                                '</div></div></div>';
                        $('#showmessage').html(message);
                    } else {
                        var message = '<div class="section section-notifications" id="notifications">' +
                            '<div class="alert alert-danger"><div class="container-fluid">' +
                                '<div class="alert-icon"><i class="material-icons">error_outline</i></div>' +
                                '<button type="button" class="close" data-dismiss="alert" aria-label="Close">' +
                                '<span aria-hidden="true"><i class="material-icons">clear</i></span>' +
                                '</button><b>Error Alert:</b> 抱歉，加点失败。。。' +
                                '</div></div></div>';
                        $('#showmessage').html(message);
                    }
                },
                error: function(XmlHttprequest, textStatus, errorThrown) {
                    alert('未知错误');
                }
            });
            }
        );
    </script>

    <script>
        $('#addv-button').click(function(){
            $.ajax({
                type: 'POST',
                url: '{% url 'graph:addEdge' %}',
                data: {
                    teacher_id:$('#teacher_id').val(),
                    student_id:$('#student-id').val(),
                    start_year:$('#startyear').val(),
                    end_year:$('#endyear').val(),
                    "csrfmiddlewaretoken": '{{ csrf_token }}'
                },
                datatype: 'json',
                async: false,
                success:function(data){
                    json_data = JSON.parse(data);
                    $('#showmessage').html('');
                    if(json_data['ac'] > 0){
                        var message = '<div class="section section-notifications" id="notifications">' +
                            '<div class="alert alert-success"><div class="container-fluid">' +
                                '<div class="alert-icon"><i class="material-icons">check</i></div>' +
                                '<button type="button" class="close" data-dismiss="alert" aria-label="Close">' +
                                '<span aria-hidden="true"><i class="material-icons">clear</i></span>' +
                                '</button><b>Success Alert:</b> 呦呼！加边成功！~' +
                                '</div></div></div>';
                        $('#showmessage').html(message);
                    } else {
                        var message = '<div class="section section-notifications" id="notifications">' +
                            '<div class="alert alert-danger"><div class="container-fluid">' +
                                '<div class="alert-icon"><i class="material-icons">error_outline</i></div>' +
                                '<button type="button" class="close" data-dismiss="alert" aria-label="Close">' +
                                '<span aria-hidden="true"><i class="material-icons">clear</i></span>' +
                                '</button><b>Error Alert:</b> 抱歉，加边失败。。。' +
                                '</div></div></div>';
                        $('#showmessage').html(message);
                    }
                },
                error: function(XmlHttprequest, textStatus, errorThrown) {
                    alert('未知错误');
                }
            });
            }
        );
    </script>

    <script>
        $('#dele-button').click(function(){
            $.ajax({
                type: 'POST',
                url: '{% url 'graph:removeNode' %}',
                data: {
                    del_id:$('#del-id').val(),
                    "csrfmiddlewaretoken": '{{ csrf_token }}'
                },
                datatype: 'json',
                async: false,
                success:function(data){
                    json_data = JSON.parse(data);
                    $('#showmessage').html('');
                    if(json_data['ac'] > 0){
                        var message = '<div class="section section-notifications" id="notifications">' +
                            '<div class="alert alert-success"><div class="container-fluid">' +
                                '<div class="alert-icon"><i class="material-icons">check</i></div>' +
                                '<button type="button" class="close" data-dismiss="alert" aria-label="Close">' +
                                '<span aria-hidden="true"><i class="material-icons">clear</i></span>' +
                                '</button><b>Success Alert:</b> 呦呼！删点成功！~' +
                                '</div></div></div>';
                        $('#showmessage').html(message);
                    } else {
                        var message = '<div class="section section-notifications" id="notifications">' +
                            '<div class="alert alert-danger"><div class="container-fluid">' +
                                '<div class="alert-icon"><i class="material-icons">error_outline</i></div>' +
                                '<button type="button" class="close" data-dismiss="alert" aria-label="Close">' +
                                '<span aria-hidden="true"><i class="material-icons">clear</i></span>' +
                                '</button><b>Error Alert:</b> 抱歉，删点失败。。。' +
                                '</div></div></div>';
                        $('#showmessage').html(message);
                    }
                },
                error: function(XmlHttprequest, textStatus, errorThrown) {
                    alert('未知错误');
                }
            });
            }
        );
    </script>

    <script>
        $('#delv-button').click(function(){
            $.ajax({
                type: 'POST',
                url: '{% url 'graph:removeEdge' %}',
                data: {
                    del_t_id:$('#del-teacher-id').val(),
                    del_s_id:$('#del-student-id').val(),
                    "csrfmiddlewaretoken": '{{ csrf_token }}'
                },
                datatype: 'json',
                async: false,
                success:function(data){
                    json_data = JSON.parse(data);
                    $('#showmessage').html('');
                    if(json_data['ac'] > 0){
                        var message = '<div class="section section-notifications" id="notifications">' +
                            '<div class="alert alert-success"><div class="container-fluid">' +
                                '<div class="alert-icon"><i class="material-icons">check</i></div>' +
                                '<button type="button" class="close" data-dismiss="alert" aria-label="Close">' +
                                '<span aria-hidden="true"><i class="material-icons">clear</i></span>' +
                                '</button><b>Success Alert:</b> 呦呼！删边成功！~' +
                                '</div></div></div>';
                        $('#showmessage').html(message);
                    } else {
                        var message = '<div class="section section-notifications" id="notifications">' +
                            '<div class="alert alert-danger"><div class="container-fluid">' +
                                '<div class="alert-icon"><i class="material-icons">error_outline</i></div>' +
                                '<button type="button" class="close" data-dismiss="alert" aria-label="Close">' +
                                '<span aria-hidden="true"><i class="material-icons">clear</i></span>' +
                                '</button><b>Error Alert:</b> 抱歉，删边失败。。。' +
                                '</div></div></div>';
                        $('#showmessage').html(message);
                    }
                },
                error: function(XmlHttprequest, textStatus, errorThrown) {
                    alert('未知错误');
                }
            });
            }
        );
    </script>
</html>